<input type="text" id="calculator" />
<div id="result"></div>

<script>


var single = {
	instancia : null ,
	iniciar : function(){
		function cliente(){
			this.nome = ""

			if(single.instancia == null){
				single.instancia = new cliente()
			}else{
				console.log("já foi")
			}
		}
	}
}

	ok = {}
    ok.nome = "Smith"
	ok.idade = 32
	ok.funcao = "function(){\
			alert(\'ok\')\
		}"
	

    localStorage.setItem("lastname", JSON.stringify(ok))

    document.write(JSON.stringify(ok))


    
    nem = JSON.parse(localStorage.getItem("lastname"))

    var funco = eval('('+nem.funcao+')');

    var varia = document.createElement('input')
    varia.type = "button"
    varia.value = "ok"
    varia.style.background = "green"
    document.body.appendChild(varia)


   
var json = '{"status":200,"command":"faca algo","action":"function (){document.write(\'quer que eu faça algo?\'); }","type":"acao"}';
var obj = JSON.parse(json);
// Guarda a função num objeto
var funcao = eval('('+obj.action+')')
// Executa a função
funcao()
    

var input = document.getElementById('calculator')
var result = document.getElementById('result')
input.addEventListener('keyup', calcular)
function calcular(){
    var conta = eval(this.value)
    result.innerHTML = conta
}

var single = (function(){
	var instancia
	function criaInstacia(){
		var objeto = new Object({jeto : "ok", coisa : "so"})
		console.log("objeto criado")
		return objeto
	}

	return {
		retornaInstancia : function(){
			if(!instancia){
				instancia = criaInstacia()
			}else{
				console.log("já criado")
			}
			return instancia
		}
	}
})()

var v1 = single.retornaInstancia()
var v2 = single.retornaInstancia()

Single = {
	instancia : null ,
	iniciar : function(){

		function Sgooo(){
			this.nome = ""
			this.te = function(){
				console.log(instancia)
			}	
		}
		if(Single.instancia == null ){
			Single.instancia = new Sgooo()
		}
	}
}
</script>